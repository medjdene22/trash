import{r as m,k as v,j as e,c as p,e as h,z as I}from"./index-CP8Us5y0.js";import{M as N}from"./MySlider-C6wz1h2D.js";import{C,P as y,M as P,c as M}from"./NoInternet-WWZO3hKz.js";import{I as R}from"./image-DSpOlP5v.js";import{P as w}from"./spin-loading-C2iKJsio.js";function S({title:o,titleId:r,...t},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),o?m.createElement("title",{id:r},o):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const F=m.forwardRef(S),$=({meta:o,className:r,vr:t})=>{const{title:s,handle:l,categories:n,id:a,short_link:c}=o,d=t==="fr"?"/news/fr/$postId":"/news/$postId",i=decodeURIComponent(l),u=v();return e.jsx("div",{className:p("post-card-meta-2 relative flex gap-2 text-xs/6",r),children:e.jsxs("div",{className:"w-full",children:[e.jsxs("span",{className:"flex items-center gap-2 -mt-2 mb-2 pr-1",children:[e.jsx(C,{categories:n,vr:t}),e.jsx(y,{className:"ms-auto",handle:c,vr:t})]}),e.jsx("h2",{className:p("block text-base font-semibold"),children:e.jsx(h,{"aria-label":s,onClick:()=>{decodeURIComponent(u.pathname)===d.replace("$postId",i)&&window.scrollTo({top:0,behavior:"smooth"})},to:d,search:{id:a},params:{postId:i},className:"line-clamp-2",dangerouslySetInnerHTML:{__html:s}})})]})})},V=({className:o,post:r,isHover:t=!1,setIsHover:s,vr:l})=>{const{featuredImage:n,postType:a,videoUrl:c,handle:d,title:i,id:u}=r,f=l==="fr"?"/news/fr/$postId":"/news/$postId",j=decodeURIComponent(d),b=v(),x=()=>{const k=I();return e.jsxs(h,{to:f,params:{postId:j},search:{id:u},...!k&&{target:"_blank"},onClick:()=>{decodeURIComponent(b.pathname)===f.replace("$postId",j)&&window.scrollTo({top:0,behavior:"smooth"})},children:[e.jsx(R,{alt:i,fill:!0,className:"object-cover",src:n,sizes:"(max-width: 600px) 100vw, 50vw"}),e.jsx("div",{className:"absolute inset-0 bg-black/25 opacity-0 transition-opacity group-hover:opacity-100"})]})},g=()=>c?e.jsxs(e.Fragment,{children:[x(),!t&&e.jsx(w,{onClick:s,className:"absolute z-30  top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 hover:bg-accent-foreground rounded-full cursor-pointer",postType:a}),e.jsx(P,{setIsHover:s,isHover:t,videoUrl:c,handle:d,vr:l})]}):e.jsxs(e.Fragment,{children:[x(),e.jsx(w,{onClick:s,className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",postType:a})]});return e.jsxs("div",{className:p("relative size-full overflow-hidden",o),children:[a==="video"&&g(),a!=="audio"&&a!=="video"&&a!=="gallery"&&x()]})},A=({className:o,post:r,ratio:t="aspect-square sm:aspect-11/12",vr:s})=>{const[l,n]=m.useState(!1);return e.jsxs("div",{className:p("group post-card-10-v2 relative flex flex-col",o),children:[e.jsx("div",{className:p("relative w-full shrink-0 overflow-hidden rounded-3xl shadow-lg shadow-black/30 transition-shadow",t),children:e.jsx(V,{post:r,isHover:l,vr:s,setIsHover:()=>n(!l)})}),e.jsx($,{meta:r,className:"mt-4",vr:s})]})},z=({className:o="",posts:r,perView:t=4,showViewAll:s=!0,viewAllLinkHref:l="/trending",vr:n,heading:a})=>{const c=r,d=()=>l?e.jsx("div",{className:"nc-Card10V2_viewAll relative flex h-full flex-col",children:e.jsx("div",{className:"aspect-w-16 relative w-full flex-shrink-0 aspect-h-12 sm:aspect-9",children:e.jsxs(h,{to:l,className:"absolute inset-0 flex h-full w-full items-center justify-center rounded-3xl border-2 border-neutral-200 p-2 text-base font-medium underline transition-colors hover:border-neutral-300 hover:bg-neutral-50 dark:border-neutral-600 dark:hover:border-neutral-500 dark:hover:bg-neutral-800",children:[n==="fr"?"Voir tout":"مشاهدة الكل",e.jsx(F,{className:"ms-2.5 h-5 w-5 rtl:rotate-180"})]})})}):null;return e.jsxs("div",{className:`nc-SectionSliderPosts ${o}`,children:[!!a&&e.jsx(M,{className:"relative mb-4 mx-1",children:a}),e.jsx(N,{isFr:n==="fr",data:s?[...c,"viewAll"]:c,renderItem:i=>typeof i=="string"?d():e.jsx(A,{post:i,ratio:"aspect-8/6",vr:n},i.id),itemPerRow:t})]})};export{V as P,z as S};
