import{r as l,j as t,k as S,c as x,e as g,z as k}from"./index-BMd-jbT0.js";import{_ as y,C as I,P as E,d as j,M as C,e as $}from"./NoInternet-eXLd3SC-.js";import{I as L}from"./image-DES5a_om.js";function A({title:e,titleId:n,...o},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},o),e?l.createElement("title",{id:n},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const z=l.forwardRef(A);function N(e=!1){return e?"focus:outline-hidden focus:ring-2 focus:ring-offset-2 focus:ring-primary-600 dark:focus:ring-offset-0":"focus:outline-hidden"}function W({title:e,titleId:n,...o},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},o),e?l.createElement("title",{id:n},e):null,l.createElement("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"}))}const B=l.forwardRef(W);function _({title:e,titleId:n,...o},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":n},o),e?l.createElement("title",{id:n},e):null,l.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}const M=l.forwardRef(_),T=({className:e="w-10 h-10 text-lg",...n})=>t.jsx("button",{className:`NextBtn ${e} inline-flex items-center justify-center rounded-full border border-neutral-200 bg-white hover:border-neutral-300 dark:border-neutral-600 dark:bg-neutral-900 dark:hover:border-neutral-500 ${N()}`,...n,children:t.jsx(M,{className:"h-5 w-5 rtl:rotate-180"})}),F=({className:e="w-10 h-10 text-lg",...n})=>t.jsx("button",{className:`PrevBtn ${e} inline-flex items-center justify-center rounded-full border border-neutral-200 bg-white hover:border-neutral-300 dark:border-neutral-600 dark:bg-neutral-900 dark:hover:border-neutral-500 ${N()}`,...n,children:t.jsx(B,{className:"h-5 w-5 rtl:rotate-180"})});function P({sliderRef:e}){const[n,o]=l.useState(!1),[a,d]=l.useState(!0),i=()=>{var r,s;return((s=(r=e.current)==null?void 0:r.querySelector(".mySnapItem"))==null?void 0:s.clientWidth)||0};l.useEffect(()=>{const r=e.current;if(!r)return;const s=y.debounce(()=>{const c=e.current;c&&(o(c.scrollLeft+c.clientWidth>=c.scrollWidth-50),d(c.scrollLeft<50))},600);return r.addEventListener("scroll",s),()=>{r.removeEventListener("scroll",s)}},[e]);function u(){var r;(r=e.current)==null||r.scrollBy({left:i(),behavior:"smooth"})}function f(){var r;(r=e.current)==null||r.scrollBy({left:-i(),behavior:"smooth"})}return{scrollToNextSlide:u,scrollToPrevSlide:f,isAtEnd:n,isAtStart:a}}function V({sliderRef:e}){const[n,o]=l.useState(!1),[a,d]=l.useState(!0),i=()=>{var r,s;return((s=(r=e.current)==null?void 0:r.querySelector(".mySnapItem"))==null?void 0:s.clientWidth)||0};l.useEffect(()=>{const r=e.current,s=y.debounce(()=>{const c=e.current;o(-1*c.scrollLeft+c.clientWidth>=c.scrollWidth-50),d(-1*c.scrollLeft<50)},600);return r.addEventListener("scroll",s),()=>{r.removeEventListener("scroll",s)}},[e]);function u(){var r;(r=e.current)==null||r.scrollBy({left:-i(),behavior:"smooth"})}function f(){var r;(r=e.current)==null||r.scrollBy({left:i(),behavior:"smooth"})}return{scrollToNextSlide:u,scrollToPrevSlide:f,isAtEnd:n,isAtStart:a}}function O(){const[e,n]=l.useState({width:typeof window<"u"?window.innerWidth:0,height:typeof window<"u"?window.innerHeight:0});return l.useEffect(()=>{function o(){typeof window>"u"||n({width:window.innerWidth,height:window.innerHeight})}return typeof window<"u"&&window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),e}function U({className:e="",itemPerRow:n=5,data:o=[],renderItem:a=()=>t.jsx("div",{}),arrowBtnClass:d="top-1/2 -translate-y-1/2",isFr:i}){const u=o.filter(m=>m),[f,r]=l.useState(n),s=O().width,c=l.useRef(null),{scrollToNextSlide:p,scrollToPrevSlide:w,isAtEnd:b,isAtStart:h}=i?P({sliderRef:c}):V({sliderRef:c});return l.useEffect(()=>{if(n<=1||s<=320)return r(1);if(s<500)return r(n-3<=1?1.2:n-3);if(s<1024)return r(n-2<=1?1.2:n-2);if(s<1280)return r(n-1<=1?1.2:n-1);r(n)},[n,s]),t.jsxs("div",{className:`nc-MySlider relative ${e}`,children:[t.jsx("div",{className:"hidden-scrollbar relative -mx-2 flex snap-x snap-mandatory overflow-x-auto overflow-y-hidden py-1 lg:-mx-4",ref:c,children:u.map((m,v)=>t.jsx("div",{className:"mySnapItem shrink-0 snap-start px-2 lg:px-4",style:{width:`calc(1/${f} * 100%)`},children:a(m,v)},v))}),!h&&t.jsx(F,{onClick:w,className:`z-40 absolute ${i?"-start-3":"-start-2"} h-9 w-9 cursor-pointer text-lg xl:-start-6 xl:h-12 xl:w-12 ${d}`}),!b&&t.jsx(T,{onClick:p,className:`z-40 absolute ${i?"-end-2":"-end-3"} h-9 w-9 cursor-pointer text-lg xl:-end-6 xl:h-12 xl:w-12 ${d}`})]})}const H=({meta:e,className:n,vr:o})=>{const{title:a,handle:d,categories:i,id:u,short_link:f}=e,r=o==="fr"?"/news/fr/$postId":"/news/$postId",s=decodeURIComponent(d),c=S();return t.jsx("div",{className:x("post-card-meta-2 relative flex gap-2 text-xs/6",n),children:t.jsxs("div",{className:"w-full",children:[t.jsxs("span",{className:"flex items-center gap-2 -mt-2 mb-2 pr-1",children:[t.jsx(I,{categories:i,vr:o}),t.jsx(E,{className:"ms-auto",handle:f,vr:o})]}),t.jsx("h2",{className:x("block text-base font-semibold"),children:t.jsx(g,{onClick:()=>{decodeURIComponent(c.pathname)===r.replace("$postId",s)&&window.scrollTo({top:0,behavior:"smooth"})},to:r,search:{id:u},params:{postId:s},className:"line-clamp-2",dangerouslySetInnerHTML:{__html:a}})})]})})},q=({className:e,post:n,isHover:o=!1,setIsHover:a,vr:d})=>{const{featuredImage:i,postType:u,videoUrl:f,handle:r,title:s,id:c}=n,p=d==="fr"?"/news/fr/$postId":"/news/$postId",w=decodeURIComponent(r),b=S(),h=()=>{const v=k();return t.jsxs(g,{to:p,params:{postId:w},search:{id:c},...!v&&{target:"_blank"},onClick:()=>{decodeURIComponent(b.pathname)===p.replace("$postId",w)&&window.scrollTo({top:0,behavior:"smooth"})},children:[t.jsx(L,{alt:s,fill:!0,className:"object-cover",src:i,sizes:"(max-width: 600px) 100vw, 50vw"}),t.jsx("div",{className:"absolute inset-0 bg-black/25 opacity-0 transition-opacity group-hover:opacity-100"})]})},m=()=>f?t.jsxs(t.Fragment,{children:[h(),!o&&t.jsx(j,{onClick:a,className:"absolute z-30  top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 hover:bg-accent-foreground rounded-full cursor-pointer",postType:u}),t.jsx(C,{setIsHover:a,isHover:o,videoUrl:f,handle:r,vr:d})]}):t.jsxs(t.Fragment,{children:[h(),t.jsx(j,{onClick:a,className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",postType:u})]});return t.jsxs("div",{className:x("relative size-full overflow-hidden",e),children:[u==="video"&&m(),u!=="audio"&&u!=="video"&&u!=="gallery"&&h()]})},R=({className:e,post:n,ratio:o="aspect-square sm:aspect-11/12",vr:a})=>{const[d,i]=l.useState(!1);return t.jsxs("div",{className:x("group post-card-10-v2 relative flex flex-col",e),children:[t.jsx("div",{className:x("relative w-full shrink-0 overflow-hidden rounded-3xl shadow-lg shadow-black/30 transition-shadow",o),children:t.jsx(q,{post:n,isHover:d,vr:a,setIsHover:()=>i(!d)})}),t.jsx(H,{meta:n,className:"mt-4",vr:a})]})},J=({className:e="",posts:n,perView:o=4,showViewAll:a=!0,viewAllLinkHref:d="/trending",vr:i,heading:u})=>{const f=n,r=()=>d?t.jsx("div",{className:"nc-Card10V2_viewAll relative flex h-full flex-col",children:t.jsx("div",{className:"aspect-w-16 relative w-full flex-shrink-0 aspect-h-12 sm:aspect-9",children:t.jsxs(g,{to:d,className:"absolute inset-0 flex h-full w-full items-center justify-center rounded-3xl border-2 border-neutral-200 p-2 text-base font-medium underline transition-colors hover:border-neutral-300 hover:bg-neutral-50 dark:border-neutral-600 dark:hover:border-neutral-500 dark:hover:bg-neutral-800",children:[i==="fr"?"Voir tout":"مشاهدة الكل",t.jsx(z,{className:"ms-2.5 h-5 w-5 rtl:rotate-180"})]})})}):null;return t.jsxs("div",{className:`nc-SectionSliderPosts ${e}`,children:[!!u&&t.jsx($,{className:"relative mb-4 mx-1",children:u}),t.jsx(U,{isFr:i==="fr",data:a?[...f,"viewAll"]:f,renderItem:s=>typeof s=="string"?r():t.jsx(R,{post:s,ratio:"aspect-8/6",vr:i},s.id),itemPerRow:o})]})};export{q as P,J as S};
