import{j as e,c as x,e as h,r as u,u as v}from"./index-D6X8IQ1E.js";import{P as b,S as y,M as I}from"./SectionSliderPosts-DsEwVKbE.js";import{I as f,C as k,a as S}from"./image-kMwRD1zl.js";import{P as w,C as N,H as C}from"./NoInternet-DSOT_4hF.js";import{C as _}from"./homeSliderMobile-c2ORXNlv.js";import{b as z}from"./getAds-CMvqUR_X.js";const H=({className:a,titleClass:l="text-lg",ratio:r="aspect-4/3",post:s,vr:t})=>{const{title:i,handle:p,featuredImage:o,categories:d,postType:g,id:n}=s,c=t==="fr"?"/news/fr/$postId":"/news/$postId",m=decodeURIComponent(p);return e.jsxs("div",{className:x("group post-card-18 relative flex flex-col overflow-hidden rounded-xl",a),children:[e.jsx("div",{className:x("relative size-full",r),children:g==="audio"?e.jsx(b,{post:s,vr:t,setIsHover:()=>{}}):e.jsxs(e.Fragment,{children:[e.jsx(f,{sizes:"(max-width: 1024px) 100vw, 33vw",alt:i,className:"size-full rounded-xl object-cover brightness-100 transition-[filter] duration-300 group-hover:brightness-75",src:o,fill:!0},s.id),e.jsx(h,{to:c,params:{postId:m},search:{id:n},"aria-label":s.title,className:"absolute inset-0"})]})}),e.jsx("div",{className:"absolute inset-x-0 top-0 flex flex-wrap gap-x-2 gap-y-1 p-4 opacity-0 transition-opacity duration-300 group-hover:opacity-100",children:e.jsx(w,{className:"ms-auto",handle:s.short_link,vr:t})}),e.jsx(h,{to:c,params:{postId:m},search:{id:n},"aria-label":s.title,className:"absolute inset-x-0 bottom-0 block h-1/2 bg-linear-to-t from-black opacity-80"}),e.jsxs("div",{className:"absolute inset-x-0 bottom-0 flex grow flex-col p-6",children:[e.jsx(h,{to:c,params:{postId:m},search:{id:n},"aria-label":s.title,className:"absolute inset-0"}),e.jsx(N,{categories:d,vr:t},`${n}-category`),e.jsx("h2",{className:x("mt-3 leading-snug font-semibold text-white line-clamp-2",l),dangerouslySetInnerHTML:{__html:i}})]})]})},j=({className:a,titleClass:l="text-xl sm:text-2xl xl:text-3xl",ratio:r="aspect-4/3 sm:aspect-1/1",post:s,vr:t})=>{const{title:i,handle:p,featuredImage:o,categories:d,postType:g,id:n}=s,c=t==="fr"?"/news/fr/$postId":"/news/$postId",m=decodeURIComponent(p);return e.jsxs("div",{className:x("group post-card-19 relative flex flex-col overflow-hidden rounded-xl",a),children:[e.jsx("div",{className:x("relative size-full",r),children:g==="audio"?e.jsx(b,{post:s,vr:t,setIsHover:()=>{}}):e.jsxs(e.Fragment,{children:[e.jsx(f,{sizes:"(max-width: 1024px) 100vw, 50vw",className:"rounded-xl object-cover brightness-100 transition-[filter] duration-300 group-hover:brightness-75",src:o,alt:i,fill:!0},s.id),e.jsx(h,{"aria-label":s.title,to:c,params:{postId:m},search:{id:n},className:"absolute inset-0"})]})}),e.jsx(h,{"aria-label":s.title,to:c,params:{postId:m},search:{id:n},className:"absolute inset-x-0 bottom-0 block h-1/2 bg-linear-to-t from-black opacity-80"}),e.jsx("div",{className:"absolute inset-x-0 top-0 flex flex-wrap gap-x-2 gap-y-1 p-5 opacity-0 transition-opacity duration-300 group-hover:opacity-100 sm:px-7",children:e.jsx(w,{className:"ms-auto",handle:s.short_link,vr:t})}),e.jsxs("div",{className:"absolute inset-x-0 bottom-0 flex grow flex-col p-5 sm:p-8",children:[e.jsx(h,{"aria-label":s.title,to:c,params:{postId:m},search:{id:n},className:"absolute inset-0"}),e.jsx(N,{categories:d,vr:t},`${n}-category`),e.jsx("h2",{className:x("mt-3 leading-snug font-semibold text-white line-clamp-2",l),dangerouslySetInnerHTML:{__html:i}})]})]})},P=({posts:a,className:l,vr:r,loading:s=!1,isHome:t=!1})=>{const[i,p]=u.useState([]);return u.useEffect(()=>{t&&fetch("https://apiw.fibladi.com/api/top-ads").then(o=>o.json()).then(o=>{p(o.data)}).catch(()=>{})},[]),s?e.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-6",children:[e.jsx("div",{className:"h-auto rounded-lg bg-gray-300 lg:col-span-3"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 lg:col-span-3",children:[e.jsx("div",{className:"h-70  sm:h-60 col-span-2 sm:col-span-1 rounded-lg bg-gray-300"}),e.jsx("div",{className:"h-70  sm:h-60 col-span-2 sm:col-span-1 rounded-lg bg-gray-300"}),e.jsx("div",{className:"col-span-2 h-70  sm:h-92 rounded-lg bg-gray-300"})]})]}):a.length<1?null:e.jsx("div",{className:x("section-magazine-10 relative",l),children:e.jsxs("div",{className:"grid grid-cols-1 gap-5 xl:grid-cols-2",children:[a[0]&&e.jsx(j,{className:"shadow-lg shadow-black/30 transition-shadow",post:a[0],vr:r}),t&&i.length>0&&e.jsx("div",{className:"sm:hidden -mx-1.5 -my-3 p-0",dir:"ltr",children:e.jsx(_,{posts:i,isHome:!0})}),e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 sm:grid-rows-5",children:[a.filter((o,d)=>d<3&&d>=1).map((o,d)=>e.jsx(H,{className:"col-span-1 sm:row-span-2 shadow-lg shadow-black/30 transition-shadow",post:o,vr:r},d)),a[3]&&e.jsx(j,{ratio:"aspect-4/3 sm:aspect-16/1",className:"sm:col-span-2 sm:row-span-4 shadow-lg shadow-black/30 transition-shadow",vr:r,post:a[3]})]})]})})},V=({posts:a,vr:l,loading:r=!1})=>{const s=l==="fr"?"/news/fr/trending-6hours":"/news/trending-6hours";return r?e.jsxs("div",{className:"space-y-4 mt-5",children:[e.jsx("div",{className:"bg-gray-300 h-7 w-1/2 rounded"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-8",children:[1,2,3,4].map((t,i)=>e.jsxs("div",{children:[e.jsx("div",{className:"animate-pulse rounded-3xl overflow-hidden ",children:e.jsx("div",{className:"bg-gray-300 h-32 sm:h-44 w-full"})},i),e.jsxs("div",{className:"py-4 space-y-2",children:[e.jsx("div",{className:"bg-gray-300 h-5 w-full rounded"}),e.jsx("div",{className:"bg-gray-300 h-5 w-5/6 rounded"})]})]}))})]}):a.length<3?null:e.jsxs("div",{className:"relative mb-4 mt-5",children:[e.jsx(C,{level:1,children:e.jsxs(h,{to:s,className:"flex items-center space-x-4 ",children:[l==="ar"?"ترند، الأكثر رواجًا":"Trending, les plus populaires ",l==="fr"?e.jsx(k,{size:19,strokeWidth:3,className:"mt-1"}):e.jsx(S,{size:19,strokeWidth:3,className:"mt-1"})]})}),e.jsx(y,{posts:a,perView:4,showViewAll:!0,viewAllLinkHref:l==="fr"?"/news/fr/trending":"/news/trending",vr:l})]})};function M(){const{data:a,isLoading:l}=z(20),r=v();return l||!(a!=null&&a.length)?null:e.jsx(I,{isFr:r,data:a,renderItem:s=>e.jsxs("div",{className:"flex flex-col gap-2 ",children:[e.jsx("div",{className:"relative aspect-8/6 overflow-hidden rounded-2xl",children:s.Video?e.jsx("iframe",{src:s.Video,width:"100%",height:"100%",allow:"autoplay; encrypted-media; picture-in-picture",allowFullScreen:!0,style:{borderRadius:"12px",border:"none"}}):e.jsx("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"group block h-full w-full",children:e.jsx(f,{src:{src:`https://images2.fibladi.com/H300/${s.image.split(".")[0]}.webp`},altReal:s.title,className:" w-full h-full object-cover border border-neutral-300 transition-[filter] duration-300 group-hover:brightness-75",fill:!0})})}),e.jsx("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",children:e.jsx("p",{className:"text-center text-base  font-semibold text-neutral-800 dark:text-neutral-200 line-clamp-2",children:s.title})})]},s.id),itemPerRow:4})}const E=u.memo(M);export{E as A,P as S,V as T};
