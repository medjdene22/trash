import{j as e,a as p,e as M,r as f,l as y,S as C,u as P,T as H,V as R}from"./index-Bazt0cBE.js";import{a as D,u as T,L as W}from"./getAds-BknYv3UM.js";import{a as E,_ as F,W as S,b as V}from"./NoInternet-DpxRTM5E.js";import{C as Y,a as B,b as q,c as J,d as K}from"./carousel-CWDAQwUO.js";import{a as z,C as G,b as O,I as $}from"./image-GMA0gPG2.js";function Q({className:t,...s}){return e.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:p("mx-auto flex w-full justify-center",t),...s})}function U({className:t,...s}){return e.jsx("ul",{"data-slot":"pagination-content",className:p("flex flex-row items-center gap-1",t),...s})}function k({...t}){return e.jsx("li",{"data-slot":"pagination-item",...t})}function L({className:t,isActive:s,size:l="icon",...n}){return e.jsx(M,{"aria-current":s?"page":void 0,"data-slot":"pagination-link","data-active":s,className:p(O({variant:s?"outline":"secondary",size:l}),t,s?"text-white bg-lime-600 hover:bg-lime-500 hover:text-white":"hover:bg-lime-500 hover:text-white"),...n})}function X({className:t,isFr:s,...l}){return e.jsx(L,{"aria-label":"Go to previous page",size:"default",className:p("gap-1 px-2.5 sm:pl-2.5",t),...l,children:s?e.jsx(z,{className:"size-4",strokeWidth:3}):e.jsx(G,{className:"size-4",strokeWidth:3})})}function Z({className:t,isFr:s,...l}){return e.jsxs(L,{"aria-label":"Go to next page",size:"default",className:p("gap-1 px-2.5 sm:pr-2.5",t),...l,children:[s?e.jsx(G,{className:"size-4",strokeWidth:3}):e.jsx(z,{className:"size-4",strokeWidth:3})," "]})}const A=({paginationLinkBase:t,current:s,total:l,isFr:n=!0})=>{const o=I(Number(s),l);return e.jsx(Q,{className:"mt-12",children:e.jsxs(U,{children:[e.jsx(k,{children:e.jsx(X,{isFr:n,disabled:s==1,href:`${t}${Number(s)-1}`})}),o.map(r=>e.jsx(k,{children:e.jsx(L,{href:`${t}${r}`,isActive:r==Number(s),children:r})},r)),e.jsx(k,{children:e.jsx(Z,{isFr:n,href:`${t}${s+1}`,disabled:Number(s)>=l})})]})})};function I(t,s){let l,n;return s<=5?(l=1,n=s):t<=2?(l=1,n=5):t>=s-1?(l=s-4,n=s):(l=t-2,n=t+2),Array.from({length:n-l+1},(o,r)=>l+r).map(o=>Math.ceil(o))}function ee(){const{data:t,isLoading:s}=D(8);return s||!(t!=null&&t.length)?null:e.jsxs(Y,{dir:"ltr",opts:{loop:!0},children:[e.jsx(B,{children:t.map(l=>e.jsx(q,{className:"sm:basis-1/2 lg:basis-full",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"relative aspect-16/9 overflow-hidden rounded-2xl",children:l.link?e.jsx("a",{href:l.link,target:"_blank",rel:"noopener noreferrer",className:"group block h-full w-full",children:e.jsx($,{src:{src:`https://images2.fibladi.com/H300/${l.image.split(".")[0]}.webp`},altReal:l.title,className:" w-full h-full object-cover border border-neutral-300 transition-[filter] duration-300 group-hover:brightness-75",fill:!0})}):e.jsx($,{src:{src:`https://images2.fibladi.com/H300/${l.image.split(".")[0]}.webp`},altReal:l.title,className:"w-full h-full object-cover border border-neutral-300",fill:!0})}),l.link?e.jsx("a",{href:l.link,target:"_blank",rel:"noopener noreferrer",children:e.jsx("p",{className:"text-center text-base sm:text-lg font-medium text-neutral-800 dark:text-neutral-200 line-clamp-1",children:l.title})}):e.jsx("p",{className:"text-center text-base sm:text-lg font-medium text-neutral-800 dark:text-neutral-200 line-clamp-1",children:l.title})]})},l.id))}),e.jsx(J,{className:"bg-slate-50/80 hover:bg-slate-100 hover:opacity-100"}),e.jsx(K,{className:"bg-slate-50/80 hover:bg-slate-100 hover:opacity-100"})]})}const se=f.memo(ee);function oe({categoryId:t,vr:s,code:l,page:n="1"}){var d,u;const o=y();C().state.location.pathname.includes("page/1")&&n==="1"&&o({to:s=="fr"?`/news/fr/${t}`:`/news/${t}`});const{data:i,isLoading:h}=T(l,n),{data:c,isLoading:w}=E("7j",(s=="fr"?1:2).toString()),j=(i==null?void 0:i.posts)??[],b=(c==null?void 0:c.posts)??[],m=f.useRef(null);f.useEffect(()=>{const x=F.throttle(()=>{const a=m.current;window.innerWidth>1e3&&window.scrollY>a.clientHeight-window.innerHeight+50?(a.style.position="sticky",a.style.top=`-${a.clientHeight-window.innerHeight+50}px`):(a.style.position="",a.style.top="0px")},10);return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)},[]);const N=P()?(d=H.get(t))==null?void 0:d.name:(u=R.get(t))==null?void 0:u.name,g=Math.ceil(((i==null?void 0:i.total)??20)/20),v=`/news${s=="fr"?"/fr":""}/${t}/page/`;return e.jsxs("div",{className:"container my-12 flex flex-col lg:flex-row lg:pt-20",dir:s=="fr"?"ltr":"rtl",children:[e.jsxs("div",{className:"w-full lg:w-3/5 xl:w-2/3 xl:pe-20",children:[e.jsx("h1",{className:"text-5xl font-bold mb-8",children:N}),e.jsx(W,{posts:j,vr:s,loading:h}),e.jsx(A,{isFr:s==="fr",paginationLinkBase:v,current:Number(n),total:g})]}),e.jsx("div",{className:"mt-12 w-full lg:mt-0 lg:w-2/5 lg:ps-10 xl:w-1/3 xl:ps-0",children:e.jsxs("div",{ref:m,className:"space-y-7",children:[e.jsx(se,{}),e.jsx(S,{loading:w,posts:b.slice(0,10),full:!0,vr:s,hedding:s=="fr"?"Les plus populaires cette semaine":"الأكثر رواجًا هذا الاسبوع"})]})})]})}function re({categoryId:t,vr:s,code:l,page:n="1"}){var d,u;const o=y();C().state.location.pathname.includes("page/1")&&n==="1"&&o({to:s=="fr"?`/news/fr/${t}`:`/news/${t}`});const{data:i,isLoading:h}=V(s,n),{data:c,isLoading:w}=E("7j",(s=="fr"?1:2).toString()),j=(i==null?void 0:i.posts)??[],b=(c==null?void 0:c.posts)??[],m=f.useRef(null);f.useEffect(()=>{const x=F.throttle(()=>{const a=m.current;window.innerWidth>1e3&&window.scrollY>a.clientHeight-window.innerHeight+50?(a.style.position="sticky",a.style.top=`-${a.clientHeight-window.innerHeight+50}px`):(a.style.position="",a.style.top="0px")},10);return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)},[]);const N=P()?(d=H.get(t))==null?void 0:d.name:(u=R.get(t))==null?void 0:u.name,g=Math.ceil(((i==null?void 0:i.total)??10)/10);console.log(g);const v=`/news${s=="fr"?"/fr":""}/${t}/page/`;return e.jsxs("div",{className:"container my-12 flex flex-col lg:flex-row lg:pt-20",dir:s=="fr"?"ltr":"rtl",children:[e.jsxs("div",{className:"w-full lg:w-3/5 xl:w-2/3 xl:pe-20",children:[e.jsx("h1",{className:"text-5xl font-bold mb-8",children:N}),e.jsx(W,{posts:j,vr:s,loading:h}),e.jsx(A,{isFr:s==="fr",paginationLinkBase:v,current:Number(n),total:g})]}),e.jsx("div",{className:"mt-12 w-full lg:mt-0 lg:w-2/5 lg:ps-10 xl:w-1/3 xl:ps-0",children:e.jsx("div",{ref:m,className:"space-y-7",children:e.jsx(S,{loading:w,posts:b.slice(0,10),full:!0,vr:s,hedding:s=="fr"?"Les plus populaires cette semaine":"الأكثر رواجًا هذا الاسبوع"})})})]})}export{se as A,oe as C,re as L};
