{"version":3,"file":"_lang-qdD6Sgsu.js","sources":["../../src/components/hearder/headerHome.tsx","../../src/shared/Input.tsx","../../src/components/home2.tsx","../../src/routes/$lang.tsx?tsr-split=component"],"sourcesContent":["// import { getNavMegaMenu } from '@/data/navigation'\n// import { getAllPosts } from '@/data/posts'\n// import { Button } from '@/shared/Button'\n// import Logo from '@/shared/Logo'\n// import { PlusIcon } from '@heroicons/react/24/outline'\nimport clsx from 'clsx'\nimport { FC } from 'react'\n// import AvatarDropdown from './AvatarDropdown'\n// import HamburgerBtnMenu from './HamburgerBtnMenu'\n// import { Button } from '@/shared/Button'\n// import { PlusIcon } from '@heroicons/react/24/outline'\n// import SearchModal from './SearchModal'\n// import MegaMenuPopover from './MegaMenuPopover'\n// import NotifyDropdown from './NotifyDropdown'\n// import SearchModal from './SearchModal'\nimport LangSwitch from './lang-switch'\nimport { useIsFr } from '@/hooks/use-is-fr'\nimport Application from './application'\n// import { useLocation } from '@tanstack/react-router'\n// import { getUserInfo } from '@/config'\n\ninterface HeaderProps {\n  bottomBorder?: boolean\n  className?: string\n}\n\nconst HeaderHome: FC<HeaderProps> = ({ bottomBorder, className }) => {\n  // const megamenu = await getNavMegaMenu()\n  // const featuredPosts = (await getAllPosts()).slice(0, 2)\n  // const pathname = useLocation().pathname\n\n  const isFR = useIsFr()\n  // const { userName } = getUserInfo()\n\n  return (\n    <header\n      // dir={isFR ? 'ltr' : 'rtl'}\n      className={clsx(\n        'relative z-20 bg-[#eef5fd] dark:bg-neutral-800 border-neutral-200 dark:border-neutral-700 ',\n        bottomBorder && 'border-b',\n        !bottomBorder && 'has-[.header-popover-full-panel]:border-b',\n        className,\n      )}\n    >\n      <div className=\"container flex h-20 justify-between gap-x-2.5  max-w-6xl\">\n        {/* Left section */}\n        {/*<div className=\"flex items-center \">\n          <div className=\"mx-2.5 flex \">\n            <HamburgerBtnMenu type=\"product-quick-view\" />\n          </div>\n          {pathname.startsWith('/news') && (\n            <Logo label={isFR ? 'News' : 'اخبار'} />\n          )}\n        </div>*/}\n\n        {/* Right section */}\n        <div className=\"ms-auto flex items-center justify-end gap-x-4\">\n          {/* <MegaMenuPopover megamenu={megamenu} featuredPosts={featuredPosts} className=\"hidden lg:block\" /> */}\n          {/*<div className=\"ms-6 me-3 hidden h-10 border-l-2 lg:block\" />*/}\n          {/*<div className=\"hidden sm:block\">\n            <Button className=\"h-10 px-3!\" plain>\n              <PlusIcon className=\"size-5!\" />\n              <a\n                href={`https://ana.fibladi.com/${isFR ? 'fr' : 'ar'}/ads/create/`}\n                className=\"font-semibold text-base\"\n              >\n                {isFR ? 'Post' : 'نشر'}\n              </a>\n            </Button>\n          </div>*/}\n\n          {/*<div className=\"-ms-1.5\">\n            <SearchModal type=\"type1\" />\n          </div>*/}\n\n          {/*<h4 className=\"text-lg font-medium underline-offset-4 hover:underline\">\n            {userName}\n            <a\n              href={`https://anabeta.fibladi.com/presentation`}\n              className=\"absolute inset-0\"\n            />\n          </h4>*/}\n          <LangSwitch reverse />\n\n          <Application isFr={isFR} />\n\n          {/* <NotifyDropdown className=\"me-3\" /> */}\n          {/* <AvatarDropdown /> */}\n          {/*<div className=\"ms-2.5 flex \">\n            <HamburgerBtnMenu type=\"sidebar-navigation\" />\n          </div>*/}\n        </div>\n      </div>\n    </header>\n  )\n}\n\nexport default HeaderHome\n","import clsx from 'clsx'\nimport React, { InputHTMLAttributes } from 'react'\n\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\n  sizeClass?: string\n  fontClass?: string\n  rounded?: string\n}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  (\n    {\n      className,\n      sizeClass = 'h-11 px-4 py-3',\n      fontClass = 'sm:text-sm font-normal',\n      rounded = 'rounded-full',\n      type = 'text',\n      ...args\n    },\n    ref\n  ) => {\n    return (\n      <input\n        ref={ref}\n        type={type}\n        className={clsx(\n          'block w-full border-neutral-200 bg-white focus:border-primary-300 focus:ring-3 focus:ring-primary-200/50 dark:border-neutral-700 dark:bg-neutral-900 dark:focus:ring-primary-600/25',\n          rounded,\n          fontClass,\n          sizeClass,\n          className\n        )}\n        {...args}\n      />\n    )\n  }\n)\n\nInput.displayName = 'Input'\n\nexport default Input\n","import { Search01Icon } from '@hugeicons/core-free-icons'\nimport { HugeiconsIcon } from '@hugeicons/react'\nimport Input from '@/shared/Input'\nimport Logo from '@/shared/Logo'\nimport { SectionWithKey, getApps2 } from '@/data/global'\nimport { useState, useEffect } from 'react'\nimport clsx from 'clsx'\nimport { CarouselDemo, CarouselDemoDesktop } from './homeSliderMobile'\nimport { cn } from '@/lib/utils'\n\nexport const Home = ({ isFr }: { isFr: boolean }) => {\n  const handleSubmit = (e?: React.FormEvent<HTMLFormElement>) => {\n    e?.preventDefault()\n    const input = document.getElementById('s') as HTMLInputElement\n    const query = input.value.trim()\n\n    if (query) {\n      const lang = isFr ? 'fr' : 'ar'\n      const targetUrl = `https://ana.fibladi.com/${lang}/search/?q=${encodeURIComponent(\n        query,\n      )}&l=${lang}`\n\n      window.location.href = targetUrl\n    }\n  }\n\n  const [apps, setApps] = useState<Array<SectionWithKey>>([])\n  const [posts, setPosts] = useState<Ad[]>([])\n\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    setLoading(true)\n\n    async function fetchData() {\n      setApps(await getApps2())\n      setLoading(false)\n    }\n    fetchData()\n\n    fetch('https://apiw.fibladi.com/api/top-ads')\n      .then((response) => response.json())\n      .then((data) => {\n        setPosts(data.data)\n        setLoading(false)\n      })\n      .catch(() => {\n        setLoading(false)\n      })\n  }, [])\n\n  // if (loading) return null // or a loader\n\n  return (\n    <div className=\"search-page\">\n      {/* HEADER */}\n      <div className=\"start-0 top-0 right-0 sm:h-40 w-full bg-[#eef5fd] 2xl:h-56 dark:bg-neutral-800 flex items-center justify-center \">\n        <div className=\"flex items-center justify-center sm:p-5 mb-12 sm:mb-5\">\n          <Logo\n            label=\"fibladi\"\n            size=\"size-20\"\n            className=\"gap-4  justify-center   \"\n            textclassName=\"sm:text-4xl md:text-5xl lg:text-6xl sm:font-medium\"\n            active={true}\n          />\n        </div>\n      </div>\n\n      {/* SEARCH FORM */}\n\n      <div className=\"px-[5px] sm:container \">\n        <header className=\"mx-auto -mt-8 flex max-w-2xl flex-col\">\n          {/*<form className=\"relative\" action={handleSearch}>*/}\n          <form className=\"relative\" onSubmit={handleSubmit}>\n            <label htmlFor=\"s\">\n              <span className=\"sr-only\">Search</span>\n              <Input\n                id=\"s\"\n                name=\"s\"\n                type=\"search\"\n                placeholder={\n                  isFr\n                    ? \"Rechercher une news, des produits ou des offres d'emploi\"\n                    : 'ابحث عن خبر ,منتجات أو عروض عمل'\n                }\n                className=\"rounded-full shadow-lg \"\n                sizeClass=\"ps-14 py-5 pe-5 md:ps-16\"\n              />\n              <button\n                type=\"button\"\n                onClick={() => handleSubmit()}\n                className=\"absolute start-5 top-1/2 -translate-y-1/2 transform\n                    text-2xl md:start-6\n                    p-1.5 rounded-full\n                    transition-colors duration-200\n                    hover:bg-neutral-200 dark:hover:bg-neutral-700 cursor-pointer\n                    active:bg-neutral-300 dark:active:bg-neutral-600\n                    focus:outline-none focus:ring-2 focus:ring-primary-500\"\n                aria-label=\"Search\"\n              >\n                <HugeiconsIcon icon={Search01Icon} size={24} />\n              </button>\n            </label>\n          </form>\n        </header>\n      </div>\n\n      {posts.length > 0 && (\n        <div\n          dir=\"ltr\"\n          className=\"container flex justify-center p-0 md:hidden mt-3\"\n        >\n          <CarouselDemo posts={posts} />\n        </div>\n      )}\n\n      <div\n        className={cn(\n          'container py-2 md:py-12',\n          posts.length > 0 ? 'py-2' : 'py-3',\n        )}\n      >\n        <div className=\"flex  justify-center \">\n          <div className=\"grid grid-cols-4 md:grid-cols-8 gap-x-8 sm:gap-x-4   gap-y-4  auto-rows-fr auto-cols-fr\">\n            {!loading &&\n              apps\n                .filter((app) => app.order !== 6)\n                .map((appItem) => (\n                  <a\n                    key={appItem.links.fr} // unique key\n                    href={appItem.links[isFr ? 'fr' : 'ar']}\n                    // target=\"_blank\"\n                    // rel=\"noopener noreferrer\"\n                    className={clsx(\n                      'flex flex-col items-center space-y-2 ',\n                      !isFr && 'px-4',\n                    )}\n                  >\n                    <div\n                      className=\"w-16 h-16 sm:w-18 sm:h-18 bg-neutral-50 hover:bg-neutral-100 dark:bg-neutral-800 dark:hover:bg-neutral-700 border  rounded-2xl p-3 sm:p-4 \"\n                      style={{ color: appItem.color }}\n                      dangerouslySetInnerHTML={{\n                        __html: appItem.img,\n                      }}\n                    />\n                    <span className={clsx('text-sm   whitespace-nowrap')}>\n                      {appItem.text[isFr ? 'fr' : 'ar']}\n                    </span>\n                  </a>\n                ))}\n          </div>\n        </div>\n      </div>\n\n      {posts.length > 0 && (\n        <div\n          dir=\"ltr\"\n          className=\"container pb-8 justify-center p-0 hidden md:flex   max-w-6xl\"\n        >\n          <CarouselDemoDesktop posts={posts} />\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport interface TopAdsResponse {\n  data: Ad[]\n  links: PaginationLinks\n  meta: PaginationMeta\n}\n\nexport interface Ad {\n  id: string\n  date: string // e.g. \"2024-04-21 12:51:35\"\n  region: string | null\n  titre: string\n  texte: string\n  code: string\n  prix: number\n  'prix-old': number | null\n  categorieancetre: string | null\n  nomcommercial: string | null\n  phone: string | null\n  image: string\n  video: string\n  link: string\n}\n\nexport interface PaginationLinks {\n  first: string\n  last: string\n  prev: string | null\n  next: string | null\n}\n\nexport interface PaginationMeta {\n  current_page: number\n  from: number\n  last_page: number\n  links: PageLink[]\n  path: string\n  per_page: number\n  to: number\n  total: number\n}\n\nexport interface PageLink {\n  url: string | null\n  label: string\n  active: boolean\n}\n","// import BottomNavbar from '@/components/BottomNavbar'\nimport HeaderHome from '@/components/hearder/headerHome'\nimport { Home } from '@/components/home2'\n// import PageSkeleton from '@/components/post-skeleton'\nimport { useIsFr } from '@/hooks/use-is-fr'\nimport { createFileRoute } from '@tanstack/react-router'\n// import { useEffect } from 'react'\n\nconst metaLang = {\n  fr: [\n    {\n      name: 'description',\n      content:\n        \"Dernières actualités, les meilleures affaires, les meilleurs offres d'emploi en Algérie\",\n    },\n    { title: 'fibladi Algérie' },\n  ],\n  ar: [\n    {\n      name: 'description',\n      content: 'أخر الأخبار، افضل العروض، أفضل الوظائف في الجزائر',\n    },\n    { title: 'في بلادي الجزائر' },\n  ],\n}\n\nexport const Route = createFileRoute('/$lang')({\n  component: RouteComponent,\n  head: ({ params: { lang } }) => {\n    return {\n      meta: metaLang[lang as keyof typeof metaLang],\n    }\n  },\n})\n\nfunction RouteComponent() {\n  // const lang = Route.useParams().lang\n  // if (lang.startsWith('s@'))\n  //   return <FetchAndRedirect code={lang.split('@')[1]} />\n  const isFr = useIsFr()\n  return (\n    <div dir={isFr ? 'ltr' : 'rtl'} className=\"min-h-screen\">\n      <HeaderHome />\n      <main id=\"main-content\">\n        <Home isFr={isFr} />\n      </main>\n    </div>\n  )\n}\n\n// function FetchAndRedirect({ code }: { code: string }) {\n//   useEffect(() => {\n//     async function run() {\n//       const res = await fetch(\n//         `https://anabeta.fibladi.com/fibladi/shortlink?c=${code}`,\n//       )\n//       const { original_link }: { id: string; original_link: string } =\n//         await res.json()\n//       console.log(original_link)\n\n//       window.location.href = original_link\n//     }\n//     run()\n//   }, [])\n\n//   return <PageSkeleton type=\"post\" />\n// }\n"],"names":["HeaderHome","bottomBorder","className","isFR","useIsFr","jsx","clsx","jsxs","LangSwitch","Application","Input","React","sizeClass","fontClass","rounded","type","args","ref","Home","isFr","handleSubmit","e","query","lang","targetUrl","apps","setApps","useState","posts","setPosts","loading","setLoading","useEffect","fetchData","getApps2","response","data","Logo","HugeiconsIcon","Search01Icon","CarouselDemo","cn","app","appItem","CarouselDemoDesktop","SplitComponent"],"mappings":"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"}