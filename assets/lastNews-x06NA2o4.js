import{j as e,a as p,e as V,r as d,l as k,S as $,u as P,T as C,V as E}from"./index-3mH1bJik.js";import{f as _,u as M,L as F}from"./getAds-Cv7KjcCv.js";import{a as H,_ as R,W as S,b as D}from"./NoInternet-DRm-u77U.js";import{a as W,C as z,b as T,I as Y}from"./image-B_11_QBw.js";function B({className:t,...s}){return e.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:p("mx-auto flex w-full justify-center",t),...s})}function q({className:t,...s}){return e.jsx("ul",{"data-slot":"pagination-content",className:p("flex flex-row items-center gap-1",t),...s})}function y({...t}){return e.jsx("li",{"data-slot":"pagination-item",...t})}function L({className:t,isActive:s,size:n="icon",...i}){return e.jsx(V,{"aria-current":s?"page":void 0,"data-slot":"pagination-link","data-active":s,className:p(T({variant:s?"outline":"secondary",size:n}),t,s?"text-white bg-lime-600 hover:bg-lime-500 hover:text-white":"hover:bg-lime-500 hover:text-white"),...i})}function J({className:t,isFr:s,...n}){return e.jsx(L,{"aria-label":"Go to previous page",size:"default",className:p("gap-1 px-2.5 sm:pl-2.5",t),...n,children:s?e.jsx(W,{className:"size-4",strokeWidth:3}):e.jsx(z,{className:"size-4",strokeWidth:3})})}function K({className:t,isFr:s,...n}){return e.jsxs(L,{"aria-label":"Go to next page",size:"default",className:p("gap-1 px-2.5 sm:pr-2.5",t),...n,children:[s?e.jsx(z,{className:"size-4",strokeWidth:3}):e.jsx(W,{className:"size-4",strokeWidth:3})," "]})}const G=({paginationLinkBase:t,current:s,total:n,isFr:i=!0})=>{const r=O(Number(s),n);return e.jsx(B,{className:"mt-12",children:e.jsxs(q,{children:[e.jsx(y,{children:e.jsx(J,{isFr:i,disabled:s==1,href:`${t}${Number(s)-1}`})}),r.map(o=>e.jsx(y,{children:e.jsx(L,{href:`${t}${o}`,isActive:o==Number(s),children:o})},o)),e.jsx(y,{children:e.jsx(K,{isFr:i,href:`${t}${s+1}`,disabled:Number(s)>=n})})]})})};function O(t,s){let n,i;return s<=5?(n=1,i=s):t<=2?(n=1,i=5):t>=s-1?(n=s-4,i=s):(n=t-2,i=t+2),Array.from({length:i-n+1},(r,o)=>n+o).map(r=>Math.ceil(r))}function Q(){const[t,s]=d.useState(null),[n,i]=d.useState(!1);return d.useEffect(()=>{if(t)return;(async()=>{await _(1).then(o=>s(o[0])),i(!0)})()},[]),n?t?e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"relative w-full   rounded-2xl",children:t.Video?e.jsx("iframe",{className:"aspect-16/9 overflow-hidden ",src:t.Video,width:"100%",height:"100%",allow:"autoplay; encrypted-media; picture-in-picture",allowFullScreen:!0,style:{borderRadius:"12px",border:"none"}}):e.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"group relative block w-full aspect-16/9 overflow-hidden rounded-2xl",children:e.jsx(Y,{fill:!0,src:{src:`https://images2.fibladi.com/H300/${t.image.split(".")[0]}.webp`},altReal:t.title,className:"border border-neutral-300 transition-[filter] duration-300 group-hover:brightness-75"},t.id)})}),e.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",children:e.jsx("p",{className:"text-center text-base sm:text-lg font-medium text-neutral-800 dark:text-neutral-200 line-clamp-1",children:t.title})})]}):null:e.jsxs("div",{children:[e.jsx("div",{className:"animate-pulse rounded-3xl overflow-hidden  aspect-16/9 m-1",children:e.jsx("div",{className:"bg-gray-300 h-full w-full"})}),e.jsx("div",{className:"px-4 py-1 space-y-2",children:e.jsx("div",{className:"bg-gray-300 h-5 w-full rounded"})})]})}function ee({categoryId:t,vr:s,code:n,page:i="1"}){var u,x;const r=k();$().state.location.pathname.includes("page/1")&&i==="1"&&r({to:s=="fr"?`/news/fr/${t}`:`/news/${t}`});const{data:l,isLoading:h}=M(n,i),{data:c,isLoading:w}=H("7j",(s=="fr"?1:2).toString()),j=(l==null?void 0:l.posts)??[],N=(c==null?void 0:c.posts)??[],f=d.useRef(null);d.useEffect(()=>{const m=R.throttle(()=>{const a=f.current;window.innerWidth>1e3&&window.scrollY>a.clientHeight-window.innerHeight+50?(a.style.position="sticky",a.style.top=`-${a.clientHeight-window.innerHeight+50}px`):(a.style.position="",a.style.top="0px")},10);return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]);const b=P()?(u=C.get(t))==null?void 0:u.name:(x=E.get(t))==null?void 0:x.name,g=Math.ceil(((l==null?void 0:l.total)??20)/20),v=`/news${s=="fr"?"/fr":""}/${t}/page/`;return e.jsxs("div",{className:"container my-12 flex flex-col lg:flex-row lg:pt-20",dir:s=="fr"?"ltr":"rtl",children:[e.jsxs("div",{className:"w-full lg:w-3/5 xl:w-2/3 xl:pe-20",children:[e.jsx("h1",{className:"text-5xl font-bold mb-8",children:b}),e.jsx(F,{posts:j,vr:s,loading:h}),e.jsx(G,{isFr:s==="fr",paginationLinkBase:v,current:Number(i),total:g})]}),e.jsx("div",{className:"mt-12 w-full lg:mt-0 lg:w-2/5 lg:ps-10 xl:w-1/3 xl:ps-0",children:e.jsxs("div",{ref:f,className:"space-y-7",children:[e.jsx(Q,{}),e.jsx(S,{loading:w,posts:N.slice(0,10),full:!0,vr:s,hedding:s=="fr"?"Les plus populaires cette semaine":"الأكثر رواجًا هذا الاسبوع"})]})})]})}function se({categoryId:t,vr:s,code:n,page:i="1"}){var u,x;const r=k();$().state.location.pathname.includes("page/1")&&i==="1"&&r({to:s=="fr"?`/news/fr/${t}`:`/news/${t}`});const{data:l,isLoading:h}=D(s,i),{data:c,isLoading:w}=H("7j",(s=="fr"?1:2).toString()),j=(l==null?void 0:l.posts)??[],N=(c==null?void 0:c.posts)??[],f=d.useRef(null);d.useEffect(()=>{const m=R.throttle(()=>{const a=f.current;window.innerWidth>1e3&&window.scrollY>a.clientHeight-window.innerHeight+50?(a.style.position="sticky",a.style.top=`-${a.clientHeight-window.innerHeight+50}px`):(a.style.position="",a.style.top="0px")},10);return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]);const b=P()?(u=C.get(t))==null?void 0:u.name:(x=E.get(t))==null?void 0:x.name,g=Math.ceil(((l==null?void 0:l.total)??10)/10);console.log(g);const v=`/news${s=="fr"?"/fr":""}/${t}/page/`;return e.jsxs("div",{className:"container my-12 flex flex-col lg:flex-row lg:pt-20",dir:s=="fr"?"ltr":"rtl",children:[e.jsxs("div",{className:"w-full lg:w-3/5 xl:w-2/3 xl:pe-20",children:[e.jsx("h1",{className:"text-5xl font-bold mb-8",children:b}),e.jsx(F,{posts:j,vr:s,loading:h}),e.jsx(G,{isFr:s==="fr",paginationLinkBase:v,current:Number(i),total:g})]}),e.jsx("div",{className:"mt-12 w-full lg:mt-0 lg:w-2/5 lg:ps-10 xl:w-1/3 xl:ps-0",children:e.jsx("div",{ref:f,className:"space-y-7",children:e.jsx(S,{loading:w,posts:N.slice(0,10),full:!0,vr:s,hedding:s=="fr"?"Les plus populaires cette semaine":"الأكثر رواجًا هذا الاسبوع"})})})]})}export{Q as A,ee as C,se as L};
