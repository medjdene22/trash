{"version":3,"file":"adsSliderMulti-1HYT6UyB.js","sources":["../../src/components/adsSliderMulti.tsx"],"sourcesContent":["import { memo, useState } from 'react'\n\nimport Image from './image'\n\nimport { AdPreview, useAdsFeed } from '@/query/post/getAds'\nimport MySlider from './PostCards/MySlider'\nimport { useIsFr } from '@/hooks/use-is-fr'\nimport ReactPlayer from 'react-player'\nimport PostTypeFeaturedIcon from './PostCards/PostTypeFeaturedIcon'\nimport SpinLoading from '@/shared/spin-loading'\nimport { cn } from '@/lib/utils'\n\nfunction AdsSliderMulti() {\n  const { data: ads, isLoading } = useAdsFeed(8)\n  const isFr = useIsFr()\n\n  if (isLoading || !ads?.length) return null\n  return (\n    <MySlider\n      isFr={isFr}\n      data={ads}\n      renderItem={(ad) => {\n        return (\n          <div className=\"flex flex-col gap-4 group my-2\" key={ad.id}>\n            <div className=\"relative aspect-8/6 overflow-hidden rounded-3xl shadow-lg shadow-black/30 transition-shadow\">\n              {renderPostMedia(ad)}\n            </div>\n\n            <a href={ad.link} target=\"_blank\" rel=\"noopener noreferrer\">\n              <p className=\"text-center text-base  font-semibold text-neutral-800 dark:text-neutral-200 line-clamp-2\">\n                {ad.title}\n              </p>\n            </a>\n          </div>\n        )\n      }}\n      itemPerRow={4}\n    />\n  )\n}\n\nexport default memo(AdsSliderMulti)\n\nconst renderPostMedia = (ad: AdPreview) => {\n  if (ad.Video) {\n    if (!ad.Video.includes('youtu')) {\n      return (\n        <iframe\n          src={ad.Video}\n          width=\"100%\"\n          height=\"100%\"\n          allow=\"autoplay; encrypted-media; picture-in-picture\"\n          allowFullScreen\n          style={{ borderRadius: '12px', border: 'none' }}\n        />\n      )\n    }\n    return <YoutubeAd ad={ad} />\n  }\n\n  return <AdImage ad={ad} />\n}\n\nconst AdImage = ({ ad }: { ad: AdPreview }) => {\n  if (ad.Video)\n    return (\n      <Image\n        src={{\n          src: `https://images2.fibladi.com/H400/${ad.image.split('.')[0]}.webp`,\n        }}\n        altReal={ad.title}\n        className=\"\"\n        fill\n      />\n    )\n  return (\n    <a\n      href={ad.link}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      className=\"group block h-full w-full z-40\"\n    >\n      <Image\n        src={{\n          src: `https://images2.fibladi.com/H400/${ad.image.split('.')[0]}.webp`,\n        }}\n        altReal={ad.title}\n        className=\"\"\n        fill\n      />\n      <div className=\"absolute inset-0 bg-black/25 opacity-0 transition-opacity group-hover:opacity-80\" />\n    </a>\n  )\n}\n\nconst YoutubeAd = ({ ad }: { ad: AdPreview }) => {\n  const [isClicked, setIsClicked] = useState(false)\n  const [isPlaying, setIsPlaying] = useState(false)\n  return (\n    <>\n      <AdImage ad={ad} />\n      {!isClicked && (\n        <PostTypeFeaturedIcon\n          onClick={() => setIsClicked(!isClicked)}\n          className=\"absolute z-30  top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 hover:bg-accent-foreground rounded-full cursor-pointer\"\n          postType={'video'}\n        />\n      )}\n\n      <div\n        className={cn(\n          'flex items-center justify-center absolute inset-0',\n          !isPlaying && !isClicked ? 'opacity-0' : 'opacity-100',\n        )}\n      >\n        <SpinLoading />\n      </div>\n\n      <ReactPlayer\n        url={ad.Video}\n        playing={isClicked}\n        style={{\n          opacity: isPlaying ? 1 : 0,\n        }}\n        className=\"z-20 absolute inset-0 bg-neutral-900 transition-opacity\"\n        width=\"100%\"\n        height=\"100%\"\n        onPlay={() => {\n          setIsPlaying(true)\n          setIsClicked(true)\n        }}\n        onPause={() => {\n          setIsPlaying(false)\n          setIsClicked(false)\n        }}\n        onStart={() => {\n          setIsPlaying(true)\n        }}\n      />\n      <div className=\"absolute inset-0 bg-black/25 opacity-0 transition-opacity group-hover:opacity-80\" />\n    </>\n  )\n}\n"],"names":["AdsSliderMulti","ads","isLoading","useAdsFeed","isFr","useIsFr","jsx","MySlider","ad","jsxs","renderPostMedia","AdsSliderMulti$1","memo","YoutubeAd","AdImage","Image","isClicked","setIsClicked","useState","isPlaying","setIsPlaying","Fragment","PostTypeFeaturedIcon","cn","SpinLoading","ReactPlayer"],"mappings":"sPAYA,SAASA,GAAiB,CACxB,KAAM,CAAE,KAAMC,EAAK,UAAAC,CAAA,EAAcC,EAAW,CAAC,EACvCC,EAAOC,EAAA,EAEb,OAAIH,GAAa,EAACD,GAAA,MAAAA,EAAK,QAAe,KAEpCK,EAAAA,IAACC,EAAA,CACC,KAAAH,EACA,KAAMH,EACN,WAAaO,GAETC,EAAAA,KAAC,MAAA,CAAI,UAAU,iCACb,SAAA,CAAAH,MAAC,MAAA,CAAI,UAAU,8FACZ,SAAAI,EAAgBF,CAAE,EACrB,EAEAF,MAAC,IAAA,CAAE,KAAME,EAAG,KAAM,OAAO,SAAS,IAAI,sBACpC,eAAC,IAAA,CAAE,UAAU,2FACV,SAAAA,EAAG,MACN,CAAA,CACF,CAAA,CAAA,EATmDA,EAAG,EAUxD,EAGJ,WAAY,CAAA,CAAA,CAGlB,CAEA,MAAAG,EAAeC,EAAAA,KAAKZ,CAAc,EAE5BU,EAAmBF,GACnBA,EAAG,MACAA,EAAG,MAAM,SAAS,OAAO,EAYvBF,MAACO,GAAU,GAAAL,EAAQ,EAVtBF,EAAAA,IAAC,SAAA,CACC,IAAKE,EAAG,MACR,MAAM,OACN,OAAO,OACP,MAAM,gDACN,gBAAe,GACf,MAAO,CAAE,aAAc,OAAQ,OAAQ,MAAA,CAAO,CAAA,EAO/CF,MAACQ,GAAQ,GAAAN,EAAQ,EAGpBM,EAAU,CAAC,CAAE,GAAAN,KACbA,EAAG,MAEHF,EAAAA,IAACS,EAAA,CACC,IAAK,CACH,IAAK,oCAAoCP,EAAG,MAAM,MAAM,GAAG,EAAE,CAAC,CAAC,OAAA,EAEjE,QAASA,EAAG,MACZ,UAAU,GACV,KAAI,EAAA,CAAA,EAIRC,EAAAA,KAAC,IAAA,CACC,KAAMD,EAAG,KACT,OAAO,SACP,IAAI,sBACJ,UAAU,iCAEV,SAAA,CAAAF,EAAAA,IAACS,EAAA,CACC,IAAK,CACH,IAAK,oCAAoCP,EAAG,MAAM,MAAM,GAAG,EAAE,CAAC,CAAC,OAAA,EAEjE,QAASA,EAAG,MACZ,UAAU,GACV,KAAI,EAAA,CAAA,EAENF,EAAAA,IAAC,MAAA,CAAI,UAAU,kFAAA,CAAmF,CAAA,CAAA,CAAA,EAKlGO,EAAY,CAAC,CAAE,GAAAL,KAA4B,CAC/C,KAAM,CAACQ,EAAWC,CAAY,EAAIC,EAAAA,SAAS,EAAK,EAC1C,CAACC,EAAWC,CAAY,EAAIF,EAAAA,SAAS,EAAK,EAChD,OACET,EAAAA,KAAAY,WAAA,CACE,SAAA,CAAAf,MAACQ,GAAQ,GAAAN,EAAQ,EAChB,CAACQ,GACAV,EAAAA,IAACgB,EAAA,CACC,QAAS,IAAML,EAAa,CAACD,CAAS,EACtC,UAAU,2HACV,SAAU,OAAA,CAAA,EAIdV,EAAAA,IAAC,MAAA,CACC,UAAWiB,EACT,oDACA,CAACJ,GAAa,CAACH,EAAY,YAAc,aAAA,EAG3C,eAACQ,EAAA,CAAA,CAAY,CAAA,CAAA,EAGflB,EAAAA,IAACmB,EAAA,CACC,IAAKjB,EAAG,MACR,QAASQ,EACT,MAAO,CACL,QAASG,EAAY,EAAI,CAAA,EAE3B,UAAU,0DACV,MAAM,OACN,OAAO,OACP,OAAQ,IAAM,CACZC,EAAa,EAAI,EACjBH,EAAa,EAAI,CACnB,EACA,QAAS,IAAM,CACbG,EAAa,EAAK,EAClBH,EAAa,EAAK,CACpB,EACA,QAAS,IAAM,CACbG,EAAa,EAAI,CACnB,CAAA,CAAA,EAEFd,EAAAA,IAAC,MAAA,CAAI,UAAU,kFAAA,CAAmF,CAAA,EACpG,CAEJ"}